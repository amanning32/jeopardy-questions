{% extends "base.html" %}
{% block title %}Home{% endblock %}
{% block script %}<script type="text/javascript" src="static/js/validation.js"></script>{% endblock %} <!-- 404 error on this file for some reason -->
{% block body %}
<div class="jumbotron">
  <h1>Jeopardy</h1>
  <p class="lead">Thing that lets you look up Jeopardy stuff</p>
</div>

<!-- handle error -->

{% block ifError %}
    {% if error != "" %}
    <div class="alert alert-danger" role="alert">
        {{ error }}
    </div>
    {% endif %}
{% endblock ifError %}

<form name="questionform" action="/" onsubmit="return validation()" method="POST">

    <label for="date">Date Range</label>
    <div class="input-group mb-3">
        <input type="date" class="form-control" name="min_date"/>
        <input type="date" class="form-control" name="max_date"/>
    </div>

    <label for="category">Category</label>
    <div class="input-group mb-3">
        <input type="text" name="category" />
    </div>

    <label>Difficulty</label>

    <div class="input-group mb-3">
        <div class="form-check form-check-inline">
            <input class="form-check-input" type="checkbox" name="diff1" value="easy">
            <label class="form-check-label" for="diff1">Easy</label>
        </div>
        <div class="form-check form-check-inline">
            <input class="form-check-input" type="checkbox" name="diff2" value="moderate">
            <label class="form-check-label" for="diff2">Moderate</label>
        </div>
        <div class="form-check form-check-inline">
            <input class="form-check-input" type="checkbox" name="diff3" value="hard">
            <label class="form-check-label" for="diff3">Hard</label>
        </div>
        <div class="form-check form-check-inline">
            <input class="form-check-input" type="checkbox" name="diff4" value="veryhard">
            <label class="form-check-label" for="diff4">Very Hard</label>
        </div>
    </div>

    <input type="submit" class="btn btn-primary mb-3" value="Submit">
</form>

<table class="table">
    <tr>
        <th> Question </th>
        <td> {{ result['question'] }} </td>
    </tr>
    <tr>
        <th> Answer </th>
        <td> {{ result['answer'] }} </td>
    </tr>
    <tr>
        <th> Category </th>
        <td> {{ result['category']['title'].upper() }} </td>
    </tr>
    <tr>
        <th> Airdate </th>
        <td> {{ result['airdate'][:10] }} </td>
    </tr>
</table>

<table class="table">
    {% for question, answer in result.items(): %}
        <tr>
            <th> {{ question }} </th>
            <td> {{ answer }} </td>
        </tr>
    {% endfor %}
</table>
{% endblock body %}
